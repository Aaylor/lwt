<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Lwt_unix.​IO_vectors </title><meta charset="utf8"/><link rel="stylesheet" href="/home/balat/ocsigen/ocsigen.github.io/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/home/balat/ocsigen/html_of_wiki/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors">Lwt_unix.​IO_vectors</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">IO_vectors</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Sequences of buffer slices for <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix#VALwritev">Lwt_unix.​writev</a></span>.
</p><hr/><pre class="ocsforge_color odocwiki_code" id="TYPEt"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">t</span></pre><div class="odocwiki_info"><p>Mutable sequences of I/O vectors. An I/O vector describes a slice of a
<span class="odocwiki_inlinecode">bytes</span> or <span class="odocwiki_inlinecode">Bigarray</span> buffer. Each I/O vector is a triple containing a
reference to the buffer, an offset into the buffer where the slice begins,
and the length of the slice.</p></div><pre class="ocsforge_color odocwiki_code" id="TYPE_bigarray"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">_bigarray</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>char, <span class="ocsforge_color_uid">Bigarray</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int8_unsigned_elt</span>, <span class="ocsforge_color_uid">Bigarray</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">c_layout</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Bigarray</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">Array1</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Type abbreviation equivalent to <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_bytes#TYPEt">Lwt_bytes.​t</a></span>. Do not use this type name
directly; use <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_bytes#TYPEt">Lwt_bytes.​t</a></span> instead.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcreate"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">create</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors#TYPEt">t</a></span></span></pre><div class="odocwiki_info"><p>Creates an empty I/O vector sequence.</p></div><pre class="ocsforge_color odocwiki_code" id="VALappend_bytes"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">append_bytes</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors#TYPEt">t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> bytes <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">append_bytes vs buffer offset length</span> appends a slice of the <span class="odocwiki_inlinecode">bytes</span>
buffer <span class="odocwiki_inlinecode">buffer</span> beginning at <span class="odocwiki_inlinecode">offset</span> and with length <span class="odocwiki_inlinecode">length</span> to the
I/O vector sequence <span class="odocwiki_inlinecode">vs</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALappend_bigarray"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">append_bigarray</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors#TYPEt">t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  Lwt_unix.IO_vectors._bigarray <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">append_bigarray vs buffer offset length</span> appends a slice of the
<span class="odocwiki_inlinecode">Bigarray</span> buffer <span class="odocwiki_inlinecode">buffer</span> beginning at <span class="odocwiki_inlinecode">offset</span> and with length <span class="odocwiki_inlinecode">length</span>
to the I/O vector sequence <span class="odocwiki_inlinecode">vs</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALdrop"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">drop</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors#TYPEt">t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">drop vs n</span> adjusts the I/O vector sequence <span class="odocwiki_inlinecode">vs</span> so that it no longer
includes its first <span class="odocwiki_inlinecode">n</span> bytes.</p></div><pre class="ocsforge_color odocwiki_code" id="VALis_empty"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">is_empty</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix.IO_vectors#TYPEt">t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> bool</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">is_empty vs</span> is <span class="odocwiki_inlinecode">true</span> if and only if <span class="odocwiki_inlinecode">vs</span> has no I/O vectors, or all I/O
vectors in <span class="odocwiki_inlinecode">vs</span> have zero bytes.</p></div><pre class="ocsforge_color odocwiki_code" id="VALsystem_limit"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">system_limit</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">int option</span></pre><div class="odocwiki_info"><p>Some systems limit the number of I/O vectors that can be passed in a
single call to their <span class="odocwiki_inlinecode">writev</span> or <span class="odocwiki_inlinecode">readv</span> system calls. On those systems,
if the limit is <span class="odocwiki_inlinecode">n</span>, this value is equal to <span class="odocwiki_inlinecode">Some n</span>. On systems without
such a limit, the value is equal to <span class="odocwiki_inlinecode">None</span>.
</p><p>Unless you need atomic I/O operations, you can ignore this limit. The Lwt
binding automatically respects it internally. See <span><a class="ocsforge_doclink_lwt" href="/lwt/3.1.0/api/Lwt_unix#VALwritev">Lwt_unix.​writev</a></span>.
</p><p>A typical limit is 1024 vectors.</p></div></body></html>
